# Zappies AI Mobile App

A React Native mobile application for managing WhatsApp AI sales bots. This app allows users to create, configure, and monitor their WhatsApp AI bots for automated customer engagement and lead generation.

## 🚀 Features

- **Bot Management**: Create, configure, and manage multiple WhatsApp AI bots
- **Real-time Conversations**: Monitor and participate in customer conversations
- **Lead Management**: Track, qualify, and manage leads generated by bots
- **Analytics Dashboard**: Comprehensive analytics and performance metrics
- **Template System**: Create and manage message templates
- **Multi-business Support**: Manage bots for multiple businesses
- **Real-time Notifications**: Get notified of new messages and leads
- **Dark/Light Theme**: Support for both dark and light themes
- **Offline Support**: Basic functionality available offline

## 📋 Prerequisites

Before you begin, ensure you have the following installed:

- [Node.js](https://nodejs.org/) (v16 or higher)
- [React Native CLI](https://reactnative.dev/docs/environment-setup)
- [Android Studio](https://developer.android.com/studio) (for Android development)
- [Xcode](https://developer.apple.com/xcode/) (for iOS development - Mac only)
- [Git](https://git-scm.com/)

## 🛠️ Installation

### 1. Clone the Repository

```bash
git clone https://github.com/yourusername/zappies-ai-mobile.git
cd zappies-ai-mobile
```

### 2. Install Dependencies

```bash
npm install
```

### 3. iOS Setup (Mac only)

```bash
cd ios && pod install && cd ..
```

### 4. Android Setup

Make sure you have Android Studio installed and configured. The app targets Android API level 21 and above.

## ⚙️ Configuration

### 1. Supabase Setup

1. Create a new project on [Supabase](https://supabase.com)
2. Go to Settings > API to get your project URL and anon key
3. Execute the SQL schema provided in `supabase_schema.sql` in the Supabase SQL editor
4. Update the Supabase configuration in `src/config/supabase.js`:

```javascript
const supabaseUrl = 'YOUR_SUPABASE_URL';
const supabaseAnonKey = 'YOUR_SUPABASE_ANON_KEY';
```

### 2. Environment Variables

Create a `.env` file in the root directory:

```bash
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key
WHATSAPP_API_URL=your_whatsapp_api_url
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
```

### 3. Android Configuration

Update `android/app/src/main/AndroidManifest.xml` with the necessary permissions:

```xml
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.RECORD_AUDIO" />
```

### 4. iOS Configuration

Update `ios/ZappiesAIMobile/Info.plist` with the necessary permissions:

```xml
<key>NSCameraUsageDescription</key>
<string>This app needs access to camera to take photos for bot setup</string>
<key>NSPhotoLibraryUsageDescription</key>
<string>This app needs access to photo library to select images</string>
<key>NSMicrophoneUsageDescription</key>
<string>This app needs access to microphone for voice messages</string>
```

## 🏃‍♂️ Running the App

### Development Mode

Start the Metro bundler:

```bash
npm start
```

Run on Android:

```bash
npm run android
```

Run on iOS:

```bash
npm run ios
```

### Production Build

#### Android

```bash
cd android
./gradlew assembleRelease
```

The APK will be generated in `android/app/build/outputs/apk/release/`

#### iOS

1. Open `ios/ZappiesAIMobile.xcworkspace` in Xcode
2. Select your development team
3. Choose "Any iOS Device" as the destination
4. Product → Archive

## 📱 App Structure

```
src/
├── components/          # Reusable UI components
├── contexts/           # React contexts (Auth, Theme)
├── navigation/         # Navigation configuration
├── screens/           # Screen components
│   ├── auth/         # Authentication screens
│   ├── dashboard/    # Dashboard screens
│   ├── bots/         # Bot management screens
│   ├── conversations/ # Chat screens
│   ├── analytics/    # Analytics screens
│   ├── leads/        # Lead management screens
│   ├── templates/    # Template management screens
│   └── settings/     # Settings screens
├── services/          # API services and utilities
├── themes/           # Theme configuration
├── config/           # App configuration
└── utils/            # Utility functions
```

## 🗄️ Database Schema

The app uses Supabase (PostgreSQL) with the following main tables:

- **users**: User profiles and authentication data
- **businesses**: Business information and settings
- **bots**: WhatsApp bot configurations
- **conversations**: Customer conversations
- **messages**: Individual messages in conversations
- **templates**: Message templates
- **leads**: Lead information and status
- **analytics**: Analytics and metrics data

## 🔧 API Integration

The app is designed to work with a Flask-based API that handles:

- WhatsApp Business API integration
- AI message processing
- Webhook handling
- Real-time message routing

### Expected API Endpoints

```
POST /api/bots                    # Create bot
GET /api/bots/:id                # Get bot details
PUT /api/bots/:id                # Update bot
DELETE /api/bots/:id             # Delete bot

POST /api/conversations          # Create conversation
GET /api/conversations           # List conversations
GET /api/conversations/:id       # Get conversation details

POST /api/messages               # Send message
GET /api/messages                # List messages

GET /api/analytics               # Get analytics data
GET /api/leads                   # List leads
PUT /api/leads/:id               # Update lead
```

## 🎨 Customization

### Theme Customization

Modify `src/themes/theme.js` to customize colors, fonts, and spacing:

```javascript
export const lightTheme = {
  colors: {
    primary: '#6366f1',      // Your brand color
    secondary: '#10b981',    // Secondary color
    // ... other colors
  }
};
```

### Adding New Features

1. Create new screens in the appropriate directory under `src/screens/`
2. Add navigation routes in `src/navigation/MainTabNavigator.js`
3. Add database tables/functions as needed
4. Update the API integration in `src/config/supabase.js`

## 📊 Analytics & Monitoring

The app includes built-in analytics tracking:

- Message send/receive rates
- Conversation metrics
- Lead conversion rates
- Bot performance statistics
- User engagement metrics

## 🔐 Security

- Row Level Security (RLS) enabled on all tables
- JWT-based authentication through Supabase
- API key management for WhatsApp integration
- Secure storage for sensitive data

## 🚀 Deployment

### Google Play Store

1. Generate a signed APK or AAB
2. Create a Google Play Console account
3. Upload your app following Google's guidelines
4. Complete the store listing and publish

### App Store (iOS)

1. Archive the app in Xcode
2. Upload to App Store Connect
3. Complete the app review process
4. Submit for review

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📞 Support

For support and questions:

- Email: support@zappies-ai.com
- Documentation: https://docs.zappies-ai.com
- GitHub Issues: https://github.com/yourusername/zappies-ai-mobile/issues

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- React Native community for excellent documentation
- Supabase for the backend-as-a-service platform
- Meta for the WhatsApp Business API
- All contributors who help improve this project

---

## 🔄 Development Roadmap

### Phase 1: Core Features ✅
- [x] Authentication system
- [x] Bot creation and management
- [x] Basic conversation handling
- [x] Dashboard with analytics

### Phase 2: Advanced Features 🚧
- [ ] Real-time message synchronization
- [ ] Advanced analytics and reporting
- [ ] Template management system
- [ ] Lead scoring and qualification

### Phase 3: Enterprise Features 📋
- [ ] Multi-team collaboration
- [ ] Advanced integrations (CRM, Calendar)
- [ ] Custom branding options
- [ ] Advanced automation rules

### Phase 4: AI Enhancements 🤖
- [ ] Improved NLP capabilities
- [ ] Sentiment analysis
- [ ] Predictive analytics
- [ ] Voice message support

## 🐛 Known Issues

- [ ] iOS notification badges not updating correctly
- [ ] Android back button behavior in chat screens
- [ ] Memory usage optimization needed for large conversation lists

## 💡 Performance Tips

1. **Optimize Images**: Use WebP format for better compression
2. **Lazy Loading**: Implement lazy loading for conversation lists
3. **Memory Management**: Clear unused components and listeners
4. **Bundle Size**: Use bundle analyzer to optimize app size
5. **Database Queries**: Use proper indexing and pagination

## 🔒 Privacy & Data Protection

This app handles sensitive customer data. Ensure compliance with:

- GDPR (General Data Protection Regulation)
- CCPA (California Consumer Privacy Act)
- WhatsApp Business API policies
- Local data protection laws

Always inform users about data collection and provide opt-out mechanisms.